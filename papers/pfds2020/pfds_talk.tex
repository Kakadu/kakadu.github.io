% !TeX spellcheck = ru_RU
% !TEX TS-program = xelatex
% !TEX TS-program = lualatex
\newif\ifanswers

\documentclass[aspectratio=169
  , xcolor={svgnames}
  , hyperref=
      { colorlinks
      , urlcolor=DarkBlue
      }
  , russian  % This line affects translation of theorem titles
  ]{beamer}

\input{heading.tex}
\usepackage{tabulary}
\usepackage{verbatim}

\newcommand{\term}[2]{\textit{#1} (#2)}

\newtheoremstyle{exerciseStyle1}
{}                % Space above
{}                % Space below
{}                % Theorem body font % (default is "\upshape")
{}                % Indent amount
{\bfseries}       % Theorem head font % (default is \mdseries)
{.}               % Punctuation after theorem head % default: no punctuation
{ }               % Space after theorem head
{}                % Theorem head spec
\theoremstyle{exerciseStyle1}
\newtheorem{exercise}{\textbf{Упражнение}}[section]

\usepackage{tikz}
\usetikzlibrary{trees,decorations.pathreplacing}

%\usepackage{subcaption}

%%%%%%%%%%%%%%%%%%
\makeatletter
\newenvironment{tabminted}{
  \let\FV@ListVSpace\relax
  \minted
}{
  \endminted
  \unskip
  \aftergroup\@tabmintedend
}
\newcommand*{\tabminted@finalstrut}[1]{%
  \ifdim\prevdepth>0pt
    \ifdim\dp#1>\prevdepth
      \vskip\dimexpr(\dp#1)-\prevdepth\relax
    \fi
  \else
    \vskip\dimexpr(\dp#1)\relax
  \fi
}
\newcommand*{\@tabmintedend}{%
  \let\@finalstrut\tabminted@finalstrut
}
\renewcommand{\cite}[1]{}
\makeatother


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\title[PFDS без примеров кода (ну почти)]{Чисто функциональные структуры данных}
\subtitle{Без примеров кода (ну почти)}
\author{Косарев Дмитрий}

\institute{матмех СПбГУ}


\AtBeginSection[]
{
  \begin{frame}<beamer>%[allowframebreaks]
    \frametitle{Оглавление}
    \tableofcontents[currentsection,currentsubsection]
  \end{frame}
}
\AtBeginSubsection[]
{
  \begin{frame}<beamer>%[allowframebreaks]
    \frametitle{Оглавление}
    \tableofcontents[currentsection,currentsubsection]
  \end{frame}
}

\newcommand{\verbatimfont}[1]{\def\verbatim@font{#1}}
\setcounter{tocdepth}{2}  % part,chapters,sections
%\newcommand\chap[1]{
%  \addcontentsline{toc}{chapter}{#1}
%}


\begin{document}
\maketitle

% For every picture that defines or uses external nodes, you'll have to
% apply the 'remember picture' style. To avoid some typing, we'll apply
% the style to all pictures.
\tikzstyle{every picture}+=[remember picture]

% By default all math in TikZ nodes are set in inline mode. Change this to
% displaystyle so that we don't get small fractions.
\everymath{\displaystyle}

% Uncomment these lines for an automatically generated outline.
\begin{frame}{Оглавление}
%  \tableofcontents
\end{frame}

%\begin{frame}{Чисто функциональные структуры данных}
%\begin{itemize}
%  \item Следуя книге Okasaki "Pure Functional Data Structures"
%  \item Чисто функциональные -- это
%    \begin{itemize}
%      \item используя только чистые функции
%      \item проектируя с помощью индуктивных (алгебраических) типов
%    \end{itemize}
%  \item С примерами кода на языке Haskell
%  \item В принципе, можно бы и на Python, но оно будет выглядеть отвратительно
%  \item Поэтому сначала gentle introduction to Haskell \textcopyright\vspace{.5cm}
%
%  \item Будет непонятно -- кричите!
%\end{itemize}
%\end{frame}


\section{Введение}
\input{02intro.tex}

\section{Структуры данных на основе списков}
\input{chapter05.tex}

\section{Деревья}
\input{06trees}

\begin{comment}


\section{Кучи}
\input{08heaps}

%\section{Унификация}
\input{03unif}

\section{Упражнения}
\input{07exercises}

\section{Вопросы к экзамену}

\begin{frame}{Вопросы к экзамену}
\begin{itemize}
\item Понятия устойчивых (persistent) и неизменяемых (immutable)  структур данных. Преимущества и недостатки.
\item Чисто функциональная очередь. Оценки амортизированной и асимптотической сложности для основных операций
\item Очереди банкира и реального времени. Оценки амортизированной и асимптотической сложности для основных операций
\item Деревья поиска. Балансирующиеся красно-черные деревья. Оценки сложности для основных операций.
\item Понятия префиксных деревьев и HAMT.
\item Левоориентированные кучи. Оценки асимптотической сложности для основных операций.
\item Биномиальные кучи. Оценки асимптотической сложности для основных операций.
\end{itemize}
\end{frame}
\end{comment}

\begin{frame}
\begin{figure}[ht]
\begin{subfigure}{.4\textwidth}
  \includegraphics[scale=0.5]{okasaki_cover.jpg}
\end{subfigure}
\begin{subfigure}{.55\textwidth}
\begin{center}
  Подробнее в книге К.~Окасаки \\
  ``Чисто функциональные структуры данных'' \\
  \vspace{6em}

  {\Huge Конец}
\end{center}
\end{subfigure}
\end{figure}
\end{frame}


\begin{frame}%[allowframebreaks]
\frametitle<presentation>{Ссылки}
\begin{thebibliography}{10}
\bibitem{paper}
  Книга "Чисто функциональные структуры данных"
 \newblock {\em Chris Okasaki}

\bibitem{leftist-ocaml}
  \href{http://typeocaml.com/2015/03/12/heap-leftist-tree/}{Heap -- Leftist Tree}

\bibitem{aa}
  \href{https://doi.org/10.1145/2857274.2884038}{Immutability changes everything}
  \newblock {\em Pat Helland  }

\bibitem{youtube}
  \href{https://www.youtube.com/watch?v=Wo0qiGPSV-s}{Immutable data structures for functional JS}
  \newblock {\em Anjana Vakil}

\bibitem{queues-gitlab}
\href{https://gitlab.com/Kakadu/fp2020course-materials/-/tree/master/code/datatypes}{Три реализации очередей на GitLab}
\end{thebibliography}
\end{frame}

\end{document}
