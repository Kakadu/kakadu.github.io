<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<meta name="author" content="Dmitrii Kosarev a.k.a. Kakadu">
<title>Функциональное Программирование (матмех, осень 2019). Домашки</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="./pygments-monokai.css">
</head>
<body class="article">
<div id="header">
<h1>Функциональное Программирование (матмех, осень 2019). Домашки</h1>
<div class="details">
<span id="author" class="author">Dmitrii Kosarev a.k.a. Kakadu</span><br>
<span id="email" class="email"><a href="mailto:Dmitrii.Kosarev@protonmail.ch">Dmitrii.Kosarev@protonmail.ch</a></span><br>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_задачки_для_скалолазов">Задачки для Скалолазов</a>
<ul class="sectlevel2">
<li><a href="#_алгоритм_dpll">Алгоритм DPLL</a></li>
<li><a href="#_окологеймерская">Окологеймерская</a></li>
<li><a href="#_задача_про_верификацию_и_триплеты_хоара">Задача про верификацию и триплеты Хоара</a></li>
</ul>
</li>
<li><a href="#hw1234">Домашки 1-4</a>
<ul class="sectlevel2">
<li><a href="#_lua_цириков">Lua (Цириков)</a></li>
<li><a href="#_sql_погожельская">SQL (Погожельская)</a></li>
<li><a href="#_bourne_again_shell_абзалов">Bourne Again SHell (Абзалов)</a></li>
<li><a href="#_python">Python</a></li>
<li><a href="#_ruby">Ruby</a></li>
<li><a href="#_javascript">Javascript</a></li>
<li><a href="#_kotlin">Kotlin</a></li>
<li><a href="#_haskell_1_2_человека">Haskell (1-2 человека)</a></li>
<li><a href="#_lisp">LISP</a></li>
<li><a href="#_scala_1_2_человека">Scala (1-2 человека)</a></li>
<li><a href="#_ocaml_with_objects_2_человека">OCaml with objects (2 человека)</a></li>
<li><a href="#_ocaml_haskell_with_gadt_2_человека">OCaml/Haskell with GADT (2 человека)</a></li>
<li><a href="#_awk">AWK</a></li>
<li><a href="#_ideal_parallel_algol_1_человек">Ideal Parallel Algol (1 человек)</a></li>
<li><a href="#_cи">Cи</a></li>
<li><a href="#_assembler">Assembler</a></li>
<li><a href="#_datalog">Datalog</a></li>
<li><a href="#_nfa">NFA</a></li>
<li><a href="#refal">РеФаЛ</a></li>
<li><a href="#_forth">Forth</a></li>
<li><a href="#_promela">Promela</a></li>
<li><a href="#_yacc">YACC</a></li>
</ul>
</li>
<li><a href="#hw5">Домашки №5</a></li>
<li><a href="#hw6">Домашки №6</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Переход на <a href="index.html">главную страницу курса</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_задачки_для_скалолазов">Задачки для Скалолазов</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Дополнительные, так как у них слишком короткий курс на Степике. Если надо будет ещё задачек&#8201;&#8212;&#8201;напишите.</p>
</div>
<div class="sect2">
<h3 id="_алгоритм_dpll">Алгоритм DPLL</h3>
<div class="paragraph">
<p>Задача из мира математической логики про выполнимость формулы языка высказываний. В том году давал на экзамен. Сейчас хочу сам алгоритм с какими-нибудь оптимизациями (например, hash consing).</p>
</div>
<div class="paragraph">
<p>Сам алгоритм должен довольно легко гуглиться.</p>
</div>
</div>
<div class="sect2">
<h3 id="_окологеймерская">Окологеймерская</h3>
<div class="paragraph">
<p>Запустить моделирование мира, где персонажи что-то делают и куда-то стремятся.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
Детали обсуждаемы потом
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_задача_про_верификацию_и_триплеты_хоара">Задача про верификацию и триплеты Хоара</h3>
<div class="paragraph">
<p>Фиксировано AST языка программирования с числами, условиями, присваиваниями и циклами. Программы аннотированы триплетами Хоара. Проверить, что аннотированы корректно.</p>
</div>
<div class="paragraph">
<p>Про триплеты Хоара по-русски можно читать, например, в книжке Герасимова "Математическая логика".</p>
</div>
<div class="paragraph">
<p>Выбравшему эту задачу можно упростить себе жизнь, выбрав правильный вариант домашки.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="hw1234">Домашки 1-4</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Дальше идет N тем, которые будут определять задачи вида</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Напишите тип данных для представления программ на мини-языке.</p>
</li>
<li>
<p>Сделайте парсер этого языка (как именно делать  будет сказано на лекции и немного в курсе Москвина)</p>
</li>
<li>
<p>Сделайте интерпретатор языка (по аналогии с тем как мы писали <code>eval</code> для арифметических выражений на паре №2)</p>
</li>
<li>
<p>Реализуйте какое-нибудь преобразование программ (детали будут специфичны для задачи).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Заметим, что задачи 2,3,4 зависят от №1, но не друг от друга. В процессе выполнения 2,3 и 4 может оказаться, что нужно поменять представление программ. Это нормально, т.е. то, что вы напишите в решение пункта 1 скорее всего не будет окончательным.</p>
</div>
<div class="paragraph">
<p>Далее ниже идут описания языков, у них неявно стоит</p>
</div>
<div class="ulist">
<ul>
<li>
<p>приписка "мини"</p>
</li>
<li>
<p>приписка "написать подробнее".</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>А также, если кто-то захочет решать одну и ту же задачу, но на разных языках (по-видимому, это будет Scala и
Haskell), то это нужно предварительно согласовать.</p>
</div>
<div class="paragraph">
<p>Если кто-то хочет подусложнить задачу и решать одну и ту же на одном и том же языке <em>вдвоем</em>, то можно также обсудить.</p>
</div>
<div class="paragraph">
<p>Проверяться будет как программа работает, а также будут вопросы по коду программы (потому что все задачи гуглятся).</p>
</div>
<div class="sect2">
<h3 id="_lua_цириков">Lua (Цириков)</h3>
<div class="paragraph">
<p>Интересный минималистичный язык, где в качестве универсальной структуры данных используется помесь
массива с хэш-таблицей, а для оптимизации вместо целых чисел используеются Double&#8217;ы.</p>
</div>
</div>
<div class="sect2">
<h3 id="_sql_погожельская">SQL (Погожельская)</h3>
<div class="paragraph">
<p>Язык запросов к реляционным базам данных, давал в том году на экзамене. Различные конструкции можно погуглить. Задачей номер 4 будет скорее
всего какая-то оптимизация запросов.</p>
</div>
<div class="paragraph">
<p> <details><summary> 
TODO: <strong>написать подробнее под спойлер</strong>
 </summary><div> </p>
</div>
<div class="paragraph">
<p>TODO:
 </div></details> </p>
</div>
</div>
<div class="sect2">
<h3 id="_bourne_again_shell_абзалов">Bourne Again SHell (Абзалов)</h3>
<div class="paragraph">
<p>Все, кто трогал линукс, видели эту штуку.</p>
</div>
<div class="paragraph">
<p> <details><summary> 
Подробнее <strong>под спойлером</strong>
 </summary><div> </p>
</div>
<div class="paragraph">
<p>В качестве BASH можно попробовать делать другой shell, если Вам он будет больше нравиться или Вы им постоянно пользуетесь на компьютере. В итоге хочется получить как минимум интерактивный интерпретатор shell, который можно
попробовать запустить вместо того, что у вас запускается сейчас на входе в GNU/Linux. Обратите внимание, что
те слова, которые есть в программе, bash впервую очередь пытается интерпретировать как вызов системной утилиты
(например, у меня на компьютере есть <code>/usr/bin/[</code>, но нет <code>/usr/bin/[[</code>), а только потом интерпретировать по-своему. Из этого следует, что Ваш интепретатор должен уметь по ходу делать и выполнять IO действия, и поддерживать в каком-то виде сообщения об ошибках. Обратите также внимание, что системный bash работает, как интепретатор, т.е. перемежает исполнение с синтаксическим анализом.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ cat /tmp/1.sh
printf "1\n"
if [[[[ asdfasdf ]]]]; then echo 33; fi
printf "2\n"
$ bash /tmp/1.sh
1
/tmp/1.sh: ligne 2: [[[[ : commande introuvable
2</pre>
</div>
</div>
<div class="paragraph">
<p>Для тестирования программ часто используют квайны&#8201;&#8212;&#8201;программы печатающие сами себя. Протестируйте интерпретатор на десятке квайнов, реализуйте те функции интерпретатора, которые нужна для запуска этих квайнов. Например,
<a href="https://frishit.wordpress.com/2010/04/26/paradoxes-self-reproducing-code-and-bash/">это</a>, или</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ s='s=\47%s\47; printf "$s" "$s"'; printf "$s" "$s"
s='s=\47%s\47; printf "$s" "$s"'; printf "$s" "$s"
$ echo 'echo $BASH_COMMAND'
echo $BASH_COMMAND</pre>
</div>
</div>
<div class="paragraph">
<p>Разумеется, нужно поддержать объявления функций и прочие управляющие конструкции, числа, ветвления, строки
 </div></details> </p>
</div>
</div>
<div class="sect2">
<h3 id="_python">Python</h3>
<div class="paragraph">
<p>Функции, переменные, присваивания, циклы, ветвления, анонимные функции&#8201;&#8212;&#8201;стандартный набор большого количества языков. Потом какие-то языково-специфичные фичи.
Смотрите также на <a href="https://chocopy.org/">ChocoPy</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_ruby">Ruby</h3>
<div class="paragraph">
<p>Примерно как в Питоне.</p>
</div>
</div>
<div class="sect2">
<h3 id="_javascript">Javascript</h3>
<div class="paragraph">
<p>Стандартный набор языковых конструкций, прототипное наследование. Реализовать все фичи из
известного <a href="https://www.destroyallsoftware.com/talks/wat">видеообзора</a> Javascript</p>
</div>
</div>
<div class="sect2">
<h3 id="_kotlin">Kotlin</h3>
<div class="paragraph">
<p>Тут из языково-специфичных фич обязательно должна быть какая-то поддержка ООП и вызова методов.</p>
</div>
</div>
<div class="sect2">
<h3 id="_haskell_1_2_человека">Haskell (1-2 человека)</h3>
<div class="paragraph">
<p>Числа, списки, функции, ленивая стратегия вычислений. Без пользовательских типов данных. В качестве пункта 4&#8201;&#8212;&#8201;хитрые оптимизации. Алгоритм вывода типов пока не включаю, но написать
<a href="http://okmij.org/ftp/ML/generalization.html"><em>эффективный</em></a> (почти линейный) алгоритм вывода типов может быть
<span class="line-through">сложной</span> интересной задачей.</p>
</div>
<div class="paragraph">
<p>Тут легко можно договориться на 2 человека.</p>
</div>
</div>
<div class="sect2">
<h3 id="_lisp">LISP</h3>
<div class="paragraph">
<p>LISP известен своими встроенными макросами. Посмотрите примерный синтаксис Scheme (или Common Lisp, и т.д.)
и напишите интерпретатор, который по дороге дает объявлять и использовать макросы. Вдруг у вас получатся
гигиенические?</p>
</div>
</div>
<div class="sect2">
<h3 id="_scala_1_2_человека">Scala (1-2 человека)</h3>
<div class="paragraph">
<p>Функции, числа и прочий стандартный набор фич. Специфичная для Scala часть языка&#8201;&#8212;&#8201;traits. Вообще, чтобы сделать это правильно там нужно прикручивать движок перебора с возвратами a la Datalog.</p>
</div>
<div class="paragraph">
<p>Наверное, можно притянуть на 2х человек, если алгоритм под капотом будет годный.</p>
</div>
</div>
<div class="sect2">
<h3 id="_ocaml_with_objects_2_человека">OCaml with objects (2 человека)</h3>
<div class="paragraph">
<p>Числа, списки, присваивание, объекты и их рекурсивные методы вместо рекурсивных функций.
Наверное, единственный язык, где ООП сделано нормально (за счет структурной типизации и
так называемого row-полиморфизма).</p>
</div>
<div class="paragraph">
<p>Думаю, что тут проще всего будет меня уговорить назначить на двоих.</p>
</div>
</div>
<div class="sect2">
<h3 id="_ocaml_haskell_with_gadt_2_человека">OCaml/Haskell with GADT (2 человека)</h3>
<div class="paragraph">
<p>Числа, функции и обобщенные алгебраические типы данных, паттерн-матчинг, проверка типов для паттерн-мэтчинга
с использованием GADT.</p>
</div>
<div class="paragraph">
<p>Наверное, тут тоже можно парочку.</p>
</div>
</div>
<div class="sect2">
<h3 id="_awk">AWK</h3>
<div class="paragraph">
<p>Предшественник языка Perl</p>
</div>
</div>
<div class="sect2">
<h3 id="_ideal_parallel_algol_1_человек">Ideal Parallel Algol (1 человек)</h3>
<div class="paragraph">
<p>Стандартный модельный язык для использования в научных ситуациях. Числа, ветвления, присваивания, барьеры
для чтения и записи, а также операция запуска N кусков кода параллельно.
Функции и циклы не добавляю, а хочу, чтобы были реализованы
несколько <em>моделей памяти</em> для данной программы.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>sequentional consistency (SC). Исполнение программы произвольно перемежается между параллельными
участками и выполняет по одной инструкции. Самая интуитивная реализация, ни один процессор такой не соответствует.</p>
</li>
<li>
<p>TSO&#8201;&#8212;&#8201;модель процессоров x86. В ней возможны интересные поведения.
Если изначально <code>x = EAX = y = EBX = 0</code>, то после выполнения этих двух участков параллельного кода,
  x86 может остановиться в состоянии <code>EAX == 0 &amp;&amp; EBX == 0</code></p>
</li>
</ul>
</div>
<div class="literalblock">
<div class="content">
<pre>#  Proc 1                           Proc 2
MOV  [x] ← 1         |         MOV  [y] ← 1
MOV  EAX ← [y]       |         MOV  EBX ← [x]</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>может быть ещё какая-то модель памяти.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Вот <a href="https://people.mpi-sws.org/~viktor/wmc/operational.pdf">это</a> будет хорошей ссылкой, если уметь разбираться
в исчислениях (я планирую про это как-то рассказывать).</p>
</div>
</div>
<div class="sect2">
<h3 id="_cи">Cи</h3>
<div class="paragraph">
<p>Интерпретатор языка с поддержкой арфиметики указателей. Наверное будет несложно сделать, есть куча проектов в
интернетике про реализацию минималистичного компилятора Си в несколько сотен строчек.</p>
</div>
</div>
<div class="sect2">
<h3 id="_assembler">Assembler</h3>
<div class="paragraph">
<p>Выберите вид ассемблера, который хорошо работает на вашем компьютере/процессоре и почитайте
виды регистров в данной архитектуре. Реализуйте интерпретатор. Преобразование программ из
задания 4 скорее всего будет про автоматическую векторизацию. Если по дороге окажется, что
Вы научились генерировать настоящий ELF файл, который потом можно отдельно исполнить&#8201;&#8212;&#8201;вообще будет круто.</p>
</div>
</div>
<div class="sect2">
<h3 id="_datalog">Datalog</h3>
<div class="paragraph">
<p>Простейший представитель логического программирования. Спека должна быть легко находима
в интернетах</p>
</div>
</div>
<div class="sect2">
<h3 id="_nfa">NFA</h3>
<div class="paragraph">
<p>Язык задания недетерминированных конченых автоматов, реализовать вычислитель таких автоматов,
а такжен загрузку из файла (наверняка уже придумали какой-то стандартный формат для представления автоматов,
может быть graphviz?)
В качестве №4 будет конвертация в детерминирванный или что-то подобное.</p>
</div>
</div>
<div class="sect2">
<h3 id="refal">РеФаЛ</h3>
<div class="paragraph">
<p>Отечественный язык программирования. Вдохновения черпать
<a href="https://github.com/bmstu-iu9/refal-5-lambda">отсюда</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_forth">Forth</h3>
<div class="paragraph">
<p>Так называемый стековый язык программирования, мало похож на всё остальное. Считается
языком с легко расширяемым синтаксисом.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promela">Promela</h3>
<div class="paragraph">
<p>Входной язык для утилиты верификации <a href="https://en.wikipedia.org/wiki/Promela">Promela</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_yacc">YACC</h3>
<div class="paragraph">
<p>Язык описания синтаксических анализаторов (парсеров). Скорее всего его придется сильно упростить
(без action code&#8217;а, описания ассоциативности и приоритетов операций).
К нему обычно прилагается утилита, которая по описанию генерирует парсер. Сделайте что-то подобное,
генерируя по описанию парсера код на Haskell/Scala, который выполняет синтаксический анализ.
Расширениями генерации можно выбрать, например, устранение левой рекурсии.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="hw5">Домашки №5</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Скорее всего про структуры данных</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="hw6">Домашки №6</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Скорее всего про динамическое программирование</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2019-09-26 20:14:48 MSK
</div>
</div>
</body>
</html>